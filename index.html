<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PadelPilot Master</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;500;800&family=Space+Grotesk:wght@300;700&display=swap');
        body, html { background-color: #F8FAFC; margin: 0; height: 100%; overflow: hidden; font-family: 'Plus Jakarta Sans', sans-serif; }
        .app-container { height: 100vh; display: flex; flex-direction: column; }
        .app-content { flex: 1; overflow-y: auto; padding-bottom: 150px; }
        .tab-view { display: none; height: 100%; }
        .tab-view.active { display: block; }
        #view-arena { background: #0f172a; font-family: 'Space Grotesk', sans-serif; color: white; }
        .arena-glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); border-radius: 2rem; }
    </style>
</head>
<body>
<div class="app-container">
    <div class="app-content">
        <div id="view-arena" class="tab-view active"></div> <div id="view-business" class="tab-view"></div> <div id="view-students" class="tab-view"></div> 
        <div id="view-tourney" class="tab-view"></div>
        <div id="view-lab" class="tab-view"></div>
    </div>

    <nav class="fixed bottom-0 w-full bg-white/95 backdrop-blur-md border-t flex justify-around py-3 pb-8 z-50">
        <button onclick="switchTab('arena')" class="flex flex-col items-center text-blue-600"><span>ğŸ¾</span><span class="text-[8px] font-bold uppercase">Arena</span></button>
        <button onclick="switchTab('business')" class="flex flex-col items-center text-slate-400"><span>ğŸ“Š</span><span class="text-[8px] font-bold uppercase">Hub</span></button>
        <button onclick="switchTab('students')" class="flex flex-col items-center text-slate-400"><span>ğŸ‘¥</span><span class="text-[8px] font-bold uppercase">Dojo</span></button>
        <button onclick="switchTab('tourney')" class="flex flex-col items-center text-slate-400"><span>ğŸ†</span><span class="text-[8px] font-bold uppercase">Tourney</span></button>
    </nav>
</div>
<div class="p-6 space-y-6">
    <h1 class="text-4xl font-black italic uppercase">THE <span class="text-yellow-400">ARENA</span></h1>
    <div class="arena-glass p-5">
        <div class="flex justify-between mb-4">
            <div><p class="text-[8px] text-yellow-400 font-bold uppercase">Start Time</p><input id="timeInput" class="bg-transparent font-bold outline-none"></div>
            <button onclick="handleCheckIn()" id="checkInBtn" class="bg-green-500/20 text-green-400 px-4 py-1 rounded-lg text-[10px] font-bold">Confirm Arrival âœ…</button>
        </div>
        <textarea id="playersInput" class="w-full bg-black/40 border border-white/10 p-3 rounded-xl text-xs mb-4" placeholder="Players (One per line)"></textarea>
        <div class="grid grid-cols-2 gap-2 mb-4 text-white">
            <input id="courtsInput" type="number" value="1" class="bg-black/40 p-2 rounded-lg text-xs" placeholder="Courts">
            <select id="matchMode" class="bg-black/40 p-2 rounded-lg text-[10px]"><option value="random">Randomize</option><option value="mixed">Mixed M/F</option></select>
        </div>
        <div class="flex gap-2">
            <button onclick="runMatchEngine()" class="flex-1 bg-yellow-400 text-blue-900 font-black py-3 rounded-xl uppercase">Generate</button>
            <button onclick="resetArena()" class="bg-red-500/20 text-red-400 px-4 rounded-xl">ğŸ—‘ï¸</button>
        </div>
    </div>
    <div id="matchesSection" class="hidden space-y-3"><div id="matchesContainer"></div></div>
</div>
<div class="p-6">
    <h1 class="text-2xl font-black uppercase text-slate-900">Coach <span class="text-blue-600">Hub</span></h1>
    <div class="bg-white p-6 rounded-3xl shadow-sm border mt-6">
        <p class="text-[10px] font-bold text-slate-400 uppercase">Est. Revenue</p>
        <p class="text-3xl font-black italic text-slate-900">R 8,200</p>
    </div>
    <button onclick="shareSession()" class="w-full mt-4 bg-blue-600 text-white py-4 rounded-2xl font-bold uppercase text-xs">Share Session Link ğŸ“¤</button>
</div>
<script>
    const firebaseConfig = { /* Paste your Config here */ };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let activeMeetId = "pilot-session"; 

    function switchTab(id) {
        document.querySelectorAll('.tab-view').forEach(t => t.classList.remove('active'));
        document.getElementById('view-' + id).classList.add('active');
    }

    function get12HourTime() {
        const now = new Date();
        let h = now.getHours();
        let m = now.getMinutes().toString().padStart(2, '0');
        return `${h % 12 || 12}:${m} ${h >= 12 ? 'PM' : 'AM'}`;
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('timeInput').value = get12HourTime();
    });
</script>
    function runMatchEngine() {
        const players = document.getElementById('playersInput').value.split('\n').filter(p => p.trim());
        const courts = parseInt(document.getElementById('courtsInput').value);
        if (players.length < 4) return alert("Need 4 players!");

        const shuffled = [...players].sort(() => 0.5 - Math.random());
        const container = document.getElementById('matchesContainer');
        container.innerHTML = "";

        for (let i = 0; i < courts; i++) {
            const p = shuffled.slice(i * 4, (i * 4) + 4);
            if (p.length < 4) break;
            container.innerHTML += `<div class="arena-glass p-4 flex justify-between items-center">
                <span class="text-yellow-400 font-bold text-[10px]">${p[0]} & ${p[1]}</span>
                <span class="text-white/20 text-xs">VS</span>
                <span class="text-blue-400 font-bold text-[10px]">${p[2]} & ${p[3]}</span>
            </div>`;
        }
        document.getElementById('matchesSection').classList.remove('hidden');
    }

    function resetArena() {
        if(confirm("Clear Session?")) location.reload();
    }
    
    function shareSession() {
        const text = `Join Padel Session: ${window.location.href}`;
        navigator.clipboard.writeText(text);
        alert("Link Copied!");
    }
</script>
</body>
</html>
